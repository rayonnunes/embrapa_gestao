<form>
  <div class="row" id="row-compra">
    <div class="col-md-6" id="div-rebanho">
      <div class="form-group">
        <label for="compra-rebanho">Rebanho Destino</label>
        <select
          id="compra-rebanho"
          class="form-control"
          name="tipo-produto"
          onchange="addCamposCompra()"
        >
          <option value="simplificado">Rebanho Simplificado</option>
          <option value="detalhado">Rebanho Detalhado</option>
        </select>
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group" id="form-categoria">
        <label for="nascimento-rebanho" id="label-categoria-compra"
          >Categoria</label
        >
        <select id="compra-categoria" class="form-control" name="tipo-produto">
          <option value="">Selecione</option>
          <option value="matriz">Matriz</option>
          <option value="reprodutor">Reprodutor</option>
          <option value="femeaJovem">Fêmea Jovem</option>
          <option value="machoJovem">Macho Jovem</option>
          <option value="femeaLactacao">Fêmea em Lactação</option>
          <option value="machoLactacao">Macho em Lactação</option>
        </select>
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group">
        <label for="data-compra-simp">Data da Compra</label>
        <input
          type="date"
          id="data-compra-simp"
          class="form-control"
          name="data-compra"
        />
      </div>
    </div>

    <div class="col-md-6">
      <div class="form-group">
        <label for="valor-compra-cabeca">Valor</label>
        <div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text bg-primary text-white b-0">R$</span>
          </div>
          <input
            id="valor-compra-cabeca"
            type="text"
            class="form-control"
            data-toggle="input-mask"
            data-mask-format="000.000.000.000.000,00"
            data-reverse="true"
          />
        </div>
      </div>
    </div>
  </div>

  <button class="btn btn-primary btn-lg" type="submit">Adicionar Compra</button>

  <button
    type="button"
    class="btn btn-danger btn-lg mr-4"
    data-dismiss="modal"
    aria-hidden="true"
  >
    Fechar
  </button>
</form>

<script type="text/javascript">
  function addCamposCompra() {
    let selectedValue = document.getElementById('compra-rebanho').value;
    let row = document.getElementById('row-compra');

    let divRebanho = document.getElementById('div-rebanho');
    let divRaca = document.getElementById('div-raca');

    let col1 = document.createElement('div');
    col1.className = 'col-md-6';
    col1.id = 'div-compra1';

    let col2 = document.createElement('div');
    col2.className = 'col-md-6';
    col2.id = 'div-compra2';

    let formGroup1 = document.getElementById('form-categoria');

    //let formGroup1 = document.createElement('div');
    //formGroup1.className = 'form-group';
    //formGroup1.id = 'group-compra1';

    let formGroup2 = document.createElement('div');
    formGroup2.className = 'form-group';
    formGroup2.id = 'group-compra2';

    if (selectedValue === 'simplificado') {
      let child1 = document.getElementById('label-id-compra');
      let child2 = document.getElementById('id-compra');
      let child3 = document.getElementById('div-compra2');

      child1.parentNode.removeChild(child1);
      child2.parentNode.removeChild(child2);
      child3.parentNode.removeChild(child3);

      let labelCategoria = document.createElement('label');
      labelCategoria.id = 'label-categoria-compra';
      labelCategoria.innerText = 'Categoria';

      let selectCategoria = document.createElement('select');
      selectCategoria.id = 'compra-categoria';
      selectCategoria.className = 'form-control';

      let categoria1 = document.createElement('option');
      categoria1.innerText = 'Matriz';
      let categoria2 = document.createElement('option');
      categoria2.innerText = 'Reprodutor';
      let categoria3 = document.createElement('option');
      categoria3.innerText = 'Fêmea Jovem';
      let categoria4 = document.createElement('option');
      categoria4.innerText = 'Macho Jovem';
      let categoria5 = document.createElement('option');
      categoria5.innerText = 'Fêmea em Lactação';
      let categoria6 = document.createElement('option');
      categoria6.innerText = 'Macho em Lactação';
      let selecione = document.createElement('option');
      selecione.innerText = 'Selecione';

      selectCategoria.appendChild(selecione);
      selectCategoria.appendChild(categoria1);
      selectCategoria.appendChild(categoria2);
      selectCategoria.appendChild(categoria3);
      selectCategoria.appendChild(categoria4);
      selectCategoria.appendChild(categoria5);
      selectCategoria.appendChild(categoria6);

      formGroup1.appendChild(labelCategoria);
      formGroup1.appendChild(selectCategoria);
    } else if (selectedValue === 'detalhado') {
      let child1 = document.getElementById('label-categoria-compra');
      let child2 = document.getElementById('compra-categoria');

      child1.parentNode.removeChild(child1);
      child2.parentNode.removeChild(child2);

      let labelIdAnimalc = document.createElement('label');
      labelIdAnimalc.innerText = 'Identificação do Animal (nº ou nome)';
      labelIdAnimalc.id = 'label-id-compra';

      let inputIdAnimalc = document.createElement('input');
      inputIdAnimalc.className = 'form-control';
      inputIdAnimalc.id = 'id-compra';

      let labelDataNascimento = document.createElement('label');
      labelDataNascimento.innerText = 'Data Nascimento';

      let inputDataNascimento = document.createElement('input');
      inputDataNascimento.setAttribute('type', 'date');
      inputDataNascimento.className = 'form-control';

      formGroup1.appendChild(labelIdAnimalc);
      formGroup1.appendChild(inputIdAnimalc);

      //col1.appendChild(formGroup1);

      //divRebanho.insertAdjacentElement('afterend', col1);

      formGroup2.appendChild(labelDataNascimento);
      formGroup2.appendChild(inputDataNascimento);

      col2.appendChild(formGroup2);

      //divRaca.insertAdjacentElement('afterend', col2);

      //row.appendChild(col1);
      row.appendChild(col2);
    }
  }
</script>
